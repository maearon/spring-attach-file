import './polyfills.server.mjs';
import{a as k}from"./chunk-LGJ6IMAP.mjs";import{b as E,c as I,d as M,e as O,f as V,g as j,h as R,j as D}from"./chunk-526JL7ER.mjs";import{i as x}from"./chunk-V7CMVNQF.mjs";import{o as T}from"./chunk-TCURBYIA.mjs";import{Cb as o,Db as a,Eb as _,Hb as b,Jb as S,Jc as y,Kb as p,Kc as N,Nc as F,Pb as m,Sb as A,Tb as h,Ub as w,Vb as C,ab as r,fb as l,kb as g,oa as u,pa as f,pb as c,yb as s}from"./chunk-LQE7B4AG.mjs";import"./chunk-X2SEQXRR.mjs";function q(e,i){if(e&1&&(o(0,"span"),m(1),a()),e&2){let n=i.$implicit,t=p().$implicit;r(),A(" ",t," ",n," ")}}function B(e,i){if(e&1&&(o(0,"li"),c(1,q,2,2,"span",11),a()),e&2){let n=i.$implicit,t=p(2);r(),s("ngForOf",t.errors[n])}}function G(e,i){if(e&1&&(o(0,"div",10)(1,"ul"),c(2,B,2,1,"li",11),a()()),e&2){let n=p();r(2),s("ngForOf",n.Object.keys(n.errors))}}function L(e,i){e&1&&_(0,"span",12)}var P=class e{constructor(i,n,t){this.router=i;this.toastr=n;this.accountActivationService=t}email="";errors={};isSubmitting=!1;Object=Object;handleSubmit(){this.isSubmitting=!0,this.accountActivationService.resendActivationEmail({resend_activation_email:{email:this.email}}).subscribe({next:()=>{this.email="",this.errors={},this.toastr.success("The activation email has been sent again, please check your email"),this.isSubmitting=!1},error:i=>{console.error(i),i.response?.data?.errors?this.errors=i.response.data.errors:this.toastr.error("Failed to send activation email. Please try again."),this.isSubmitting=!1}})}static \u0275fac=function(n){return new(n||e)(l(T),l(x),l(k))};static \u0275cmp=g({type:e,selectors:[["app-account-activations-new"]],decls:14,vars:4,consts:[["activationForm","ngForm"],[1,"row"],[1,"col-md-6","col-md-offset-3"],[3,"ngSubmit"],["class","alert alert-danger",4,"ngIf"],[1,"form-group","mb-3"],["for","email",1,"form-label"],["type","email","id","email","name","email","required","",1,"form-control",3,"ngModelChange","ngModel"],["type","submit",1,"btn","btn-primary",3,"disabled"],["class","spinner-border spinner-border-sm me-2","role","status","aria-hidden","true",4,"ngIf"],[1,"alert","alert-danger"],[4,"ngFor","ngForOf"],["role","status","aria-hidden","true",1,"spinner-border","spinner-border-sm","me-2"]],template:function(n,t){if(n&1){let v=b();o(0,"h1"),m(1,"Resend Activation Email"),a(),o(2,"div",1)(3,"div",2)(4,"form",3,0),S("ngSubmit",function(){return u(v),f(t.handleSubmit())}),c(6,G,3,1,"div",4),o(7,"div",5)(8,"label",6),m(9,"Email"),a(),o(10,"input",7),C("ngModelChange",function(d){return u(v),w(t.email,d)||(t.email=d),f(d)}),a()(),o(11,"button",8),c(12,L,1,0,"span",9),m(13," Resend activation email "),a()()()()}n&2&&(r(6),s("ngIf",t.Object.keys(t.errors).length>0),r(4),h("ngModel",t.email),r(),s("disabled",t.isSubmitting),r(),s("ngIf",t.isSubmitting))},dependencies:[F,y,N,D,j,E,I,M,R,V,O],encapsulation:2})};export{P as AccountActivationsNewComponent};

import './polyfills.server.mjs';
import{a as j}from"./chunk-FU6HMRZ6.mjs";import{b as P,c as M,d as T,e as V,f as F,g as I,h as E,j as D}from"./chunk-526JL7ER.mjs";import{i as y}from"./chunk-V7CMVNQF.mjs";import{o as _}from"./chunk-TCURBYIA.mjs";import{Cb as t,Db as s,Eb as g,Hb as b,Jb as S,Kc as R,Nc as N,Pb as m,Tb as v,Ub as h,Vb as C,ab as n,fb as a,kb as f,oa as d,pa as p,pb as w,yb as u}from"./chunk-LQE7B4AG.mjs";import"./chunk-X2SEQXRR.mjs";function k(o,i){o&1&&g(0,"span",9)}var q=class o{constructor(i,r,e){this.router=i;this.toastr=r;this.passwordResetService=e}email="";isSubmitting=!1;handleSubmit(){this.isSubmitting=!0,this.passwordResetService.requestPasswordReset({password_reset:{email:this.email}}).subscribe({next:()=>{this.toastr.success("The password reset email has been sent, please check your email"),this.email="",this.isSubmitting=!1},error:i=>{console.error(i),this.toastr.error("Failed to send password reset email. Please try again."),this.isSubmitting=!1}})}static \u0275fac=function(r){return new(r||o)(a(_),a(y),a(j))};static \u0275cmp=f({type:o,selectors:[["app-password-resets-new"]],decls:13,vars:3,consts:[["resetForm","ngForm"],[1,"row"],[1,"col-md-6","col-md-offset-3"],[3,"ngSubmit"],[1,"form-group","mb-3"],["for","email",1,"form-label"],["type","email","id","email","name","email","required","",1,"form-control",3,"ngModelChange","ngModel"],["type","submit",1,"btn","btn-primary",3,"disabled"],["class","spinner-border spinner-border-sm me-2","role","status","aria-hidden","true",4,"ngIf"],["role","status","aria-hidden","true",1,"spinner-border","spinner-border-sm","me-2"]],template:function(r,e){if(r&1){let c=b();t(0,"h1"),m(1,"Forgot password"),s(),t(2,"div",1)(3,"div",2)(4,"form",3,0),S("ngSubmit",function(){return d(c),p(e.handleSubmit())}),t(6,"div",4)(7,"label",5),m(8,"Email"),s(),t(9,"input",6),C("ngModelChange",function(l){return d(c),h(e.email,l)||(e.email=l),p(l)}),s()(),t(10,"button",7),w(11,k,1,0,"span",8),m(12," Submit "),s()()()()}r&2&&(n(9),v("ngModel",e.email),n(),u("disabled",e.isSubmitting),n(),u("ngIf",e.isSubmitting))},dependencies:[N,R,D,I,P,M,T,E,F,V],encapsulation:2})};export{q as PasswordResetsNewComponent};
